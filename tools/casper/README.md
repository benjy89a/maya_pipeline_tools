# Casper | Maya 스크립트 런처
> 지정된 폴더 구조를 탐색하여 Python 스크립트를 탭 기반 UI로 자동 구성하고 실행하는 Maya용 스크립트 런처입니다.

## 🎥 Demo
![Casper Demo GIF](https://user-images.githubusercontent.com/12/248585408-900a12a1-59a6-470a-a111-a39f60e9092f.gif)
*(데모 GIF는 이 툴의 실제 사용 예시입니다.)*

## ✨ Features
- **동적 UI 생성**: 지정된 폴더와 그 바로 아래 하위 폴더들을 스캔하여 자동으로 탭을 생성합니다.
- **간편한 스크립트 실행**: 좌클릭으로 스크립트를 즉시 실행하고, 우클릭으로 스크립트의 Docstring(도움말)을 확인합니다.
- **Maya 네이티브 통합**: Maya UI에 자연스럽게 도킹하거나 플로팅 상태로 사용할 수 있습니다.
- **상태 저장**: 마지막으로 사용한 폴더 경로를 기억하여 다음 실행 시 자동으로 로드합니다.
- **편의 기능**: UI 내에서 직접 스크립트 폴더를 변경하고 목록을 새로고침할 수 있습니다.

## 🛠 Tech Stack
- **Python**: 메인 프로그래밍 언어
- **PySide2**: UI 프레임워크
- **Maya API**: Maya 연동을 위한 `maya.utils`, `OpenMayaUI`, `maya.app.general.mayaMixin` 사용

## 🧠 Problem Solving & Optimization
- **동적 UI 생성**: 폴더 구조가 바뀔 때마다 UI 코드를 수정해야 하는 문제를 해결하기 위해, `os.listdir`로 폴더를 동적으로 스캔하여 탭과 버튼을 생성하는 방식을 채택했습니다. 이를 통해 스크립트 추가/삭제에 유연하게 대응할 수 있습니다.
- **UX 개선 (좌/우클릭 분리)**: 사용자가 스크립트를 '실행'하는 행위와 '정보를 확인'하는 행위를 명확히 구분할 수 있도록, `QPushButton`을 상속한 `CustomScriptButton`을 구현했습니다. `mousePressEvent`를 재정의하여 좌클릭은 실행, 우클릭은 도움말 보기로 나누어 직관적인 사용자 경험을 제공합니다.
- **안전한 Docstring 추출**: 스크립트의 도움말을 보기 위해 파일을 `exec`나 `import`로 실행하면 원치 않는 코드가 동작할 위험이 있습니다. 이를 방지하기 위해 `ast` (Abstract Syntax Trees) 모듈을 사용하여 코드를 실행하지 않고 텍스트를 분석하는 방식으로 안전하게 Docstring만 추출했습니다.
- **Maya UI 통합**: 단순한 독립 창이 아닌, Maya의 다른 패널처럼 자연스럽게 동작하는 UI를 만들기 위해 `MayaQWidgetDockableMixin`을 활용했습니다. 
- **상태 유지**: 사용자가 툴을 닫았다가 다시 열 때마다 스크립트 폴더를 선택해야 하는 번거로움을 줄이기 위해, 마지막 경로를 외부 `.config` 파일에 저장하고 다음에 자동으로 불러오는 기능을 추가하여 사용 편의성을 높였습니다.
